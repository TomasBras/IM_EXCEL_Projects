version: "3.1"

############################################
#              INTENTS                    
############################################
intents:
  - greet
  - ask_how_are_you
  - respond_how_am_i
  - helper
  - calcular_media
  - destacar_aprovados_reprovados
  - identificar_melhoria
  - inserir_colunas
  - inserir_perguntas
  - gerar_grafico_turma
  - gerar_grafico_barras_aluno
  - gerar_grafico_perguntas_t2
  - atualizar_notas
  - guardar_ficheiro
  - operacoes_matematicas
  - atualizar_valores
  - apagar_todos_graficos
  - criar_pivot_table        # <-- ADICIONADO
  - fallback


############################################
#                ENTIDADES                
############################################
entities:
  - aluno_nome
  - aluno_numero
  - valores
  - pergunta
  - grafico
  - nome_ficheiro
  - teste_numero
  - coluna_nome
  - coluna_teste


############################################
#                  SLOTS                  
############################################
slots:

  aluno_nome:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: aluno_nome

  aluno_numero:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: aluno_numero

  valores:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: valores

  nome_ficheiro:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: nome_ficheiro

  pergunta:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: pergunta

  teste_numero:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: teste_numero

  coluna_nome:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: coluna_nome

  coluna_teste:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: coluna_teste


############################################
#              RESPONSES                  
############################################
responses:

  utter_greet:
    - text: "Olá! Pronto para trabalhar no Excel?"
    - text: "Bom dia! O que deseja fazer na folha de cálculo?"
    - text: "Olá! Vamos manipular alguns dados?"

  utter_ask_how_are_you:
    - text: "Estou ótimo e pronto para organizar dados! E você?"
    - text: "Tudo bem comigo! Como posso ajudar hoje?"

  utter_respond_how_am_i:
    - text: "Perfeito! Vamos continuar com o trabalho."
    - text: "Ótimo saber disso! O que quer fazer a seguir?"

  utter_helper:
    - text: |
        Aqui estão os comandos que pode usar:
        • Calcular média  
        • Destacar aprovados  
        • Identificar melhoria  
        • Inserir colunas  
        • Inserir perguntas  
        • Criar gráfico da turma  
        • Criar gráfico de barras de um aluno  
        • Criar gráfico do teste 2  
        • Criar tabela dinâmica (Pivot Table)  
        • Atualizar notas  
        • Atualizar valores  
        • Operações matemáticas  
        • Guardar ficheiro  
        • Apagar todos os gráficos  

  utter_calcular_media:
    - text: "A calcular a média..."

  utter_destacar_aprovados_reprovados:
    - text: "Destacando aprovados e reprovados..."

  utter_identificar_melhoria:
    - text: "A identificar melhorias significativas..."

  utter_inserir_colunas:
    - text: "A inserir colunas solicitadas..."

  utter_inserir_perguntas:
    - text: "A inserir perguntas no teste..."

  utter_gerar_grafico_turma:
    - text: "A gerar o gráfico da turma..."

  utter_gerar_grafico_barras_aluno:
    - text: "A gerar o gráfico de barras do aluno {aluno_numero}..."

  utter_gerar_grafico_perguntas_t2:
    - text: "A gerar o gráfico das perguntas do teste 2..."

  utter_atualizar_notas:
    - text: "A atualizar as notas do aluno {aluno_numero}..."

  utter_guardar_ficheiro:
    - text: "A guardar o ficheiro como {nome_ficheiro}..."

  utter_operacoes_matematicas:
    - text: "A executar a operação solicitada..."

  utter_atualizar_valores:
    - text: "A atualizar os valores das perguntas..."

  utter_apagar_todos_graficos:
    - text: "A apagar todos os gráficos da folha..."

  utter_criar_pivot_table:          # <-- ADICIONADO
    - text: "A criar a tabela dinâmica (Pivot Table)..."

  utter_default:
    - text: "Não percebi, pode repetir?"


############################################
#               ACTIONS                   
############################################
actions:
  - action_calcular_media
  - action_destacar_aprovados_reprovados
  - action_identificar_melhoria
  - action_inserir_colunas
  - action_inserir_perguntas
  - action_gerar_grafico_turma
  - action_gerar_grafico_barras_aluno
  - action_gerar_grafico_perguntas_t2
  - action_atualizar_notas
  - action_guardar_ficheiro
  - action_operacoes_matematicas
  - action_atualizar_valores
  - action_criar_pivot_table      # <-- ADICIONADO
  - action_apagar_todos_graficos
  - action_default_fallback


############################################
#             SESSION CONFIG              
############################################
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
